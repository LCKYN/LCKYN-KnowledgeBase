---
id: 23.04
tags: [type/tool, status/evergreen, context/data-engineering]
---

# Dragonfly

## Overview
**Dragonfly** is a modern, **multi-threaded**, Redis-compatible in-memory data store designed as a drop-in replacement for Redis. It leverages all available CPU cores via a shared-nothing architecture, achieving significantly higher throughput on multi-core machines.

## Key Concepts
- **Multi-threaded**: Uses all CPU cores (shared-nothing architecture per thread)
- **Redis-compatible**: Supports Redis and Memcached APIs — no client changes needed
- **Dashtable**: Custom hash table replacing Redis's dict — lock-free, cache-friendly
- **Shared-nothing**: Each thread owns a shard of data → no cross-thread locking
- **Snapshotting**: Novel snapshot algorithm that doesn't fork (unlike Redis RDB)

## Redis vs Dragonfly

| Aspect | Redis | Dragonfly |
|---|---|---|
| Threading | Single-threaded execution | Multi-threaded (all cores) |
| Throughput | ~100k–200k ops/sec | ~1M+ ops/sec (multi-core) |
| Memory efficiency | ~1x | ~0.3x (more efficient encoding) |
| Persistence | Fork-based RDB / AOF | Forkless snapshots |
| Cluster mode | Redis Cluster (multi-node) | Single instance (vertical scale) |
| API compatibility | Native | 99%+ Redis API compatible |
| Scaling model | Horizontal (sharding) | Vertical (add cores) |

> [!TIP] When to choose Dragonfly
> Use Dragonfly when you need **high throughput on a single machine** with multiple cores and want to avoid the operational complexity of Redis Cluster.

> [!WARNING] Trade-offs
> Dragonfly is newer with a smaller ecosystem. Redis has decades of battle-testing, wider tooling support, and mature Cluster mode for horizontal scaling across nodes.

## Performance
- Achieves **25× throughput** over Redis on multi-core (per official benchmarks)
- Forkless snapshots avoid the 2× memory spike that Redis RDB snapshots cause
- Lower memory usage due to more efficient internal data structures

## Common Use Cases
- **High-throughput caching** — Where single-threaded Redis is the bottleneck
- **Drop-in Redis replacement** — Same client libraries, same commands
- **Cost optimization** — One large instance vs multiple Redis Cluster nodes

## Related Concepts
- [[23_Database_Retrieval_MOC]] - Parent category
- [[23.03 Redis]] - Contrast: single-threaded predecessor
- [[75.06 perf-api-framework]] - Benchmarked head-to-head against Redis
