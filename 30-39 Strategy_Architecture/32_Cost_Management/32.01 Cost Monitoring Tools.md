---
id: 32.01
tags: [type/concept, status/growing, context/finops]
---

# Cost Monitoring Tools

## Overview
Cost monitoring provides visibility into cloud and infrastructure spending. Critical for ML/LLM workloads due to high compute costs, variable API usage, and complex multi-service architectures.

## Cloud Provider Tools

### AWS Cost Management

| Tool | Purpose |
|------|---------|
| **Cost Explorer** | Historical analysis, forecasting, tag grouping |
| **Budgets** | Alerts, thresholds, automated actions |
| **Anomaly Detection** | ML-based unusual spend detection |
| **Savings Plans** | Commitment discounts (Compute, SageMaker) |

Key features: Filter by service/tag, daily granularity, forecast next month.

### GCP Cost Management

| Tool | Purpose |
|------|---------|
| **Billing Reports** | Console dashboards, breakdowns |
| **Budgets & Alerts** | Threshold alerts, Pub/Sub integration |
| **Recommender** | Right-sizing, idle resources, commitments |
| **BigQuery Export** | Detailed billing for custom analysis |

Best practice: Export to BigQuery for ML workload analysis (GPU costs by project).

### Azure Cost Management

| Tool | Purpose |
|------|---------|
| **Cost Analysis** | Pivot tables, custom views |
| **Budgets** | Action groups, automation |
| **Advisor** | Reserved instances, rightsizing |
| **Power BI** | Advanced visualization |

## Third-Party Tools

### Kubernetes Cost Tools

| Tool | Type | Features |
|------|------|----------|
| **Kubecost** | Commercial/OSS | Per-namespace allocation, efficiency metrics |
| **OpenCost** | Open Source | CNCF project, Prometheus integration |

Key metrics: Cost by namespace/deployment/label, requests vs usage efficiency.

### Infrastructure as Code

| Tool | Purpose |
|------|---------|
| **Infracost** | Terraform cost estimation before apply |
| **Env0** | Policy-based cost controls |

CI/CD integration: Comment estimated costs on PRs, block over-budget changes.

## LLM-Specific Monitoring

### Token Cost Tracking

Track per request:
- Input tokens
- Output tokens
- Cached tokens (if applicable)
- Model used
- Feature/user attribution

### Cost Attribution Dimensions

| Dimension | Purpose |
|-----------|---------|
| By Feature | Which features cost most |
| By User | High-usage users |
| By Model | Model cost comparison |
| By Time | Trend analysis |

### Prometheus Metrics

Key metrics to expose:
- `llm_tokens_total{model, direction, feature}`
- `llm_cost_dollars_total{model, feature}`
- `llm_request_duration_seconds{model}`

Grafana queries:
- Hourly cost by model: `sum(rate(llm_cost_dollars_total[1h])) by (model) * 3600`
- Cost anomaly: current vs 7d average

## Alerting Strategies

### Multi-Level Alerts

| Level | Threshold | Action |
|-------|-----------|--------|
| **Warning** | 70% | Slack notification |
| **Critical** | 90% | PagerDuty, manager escalation |
| **Emergency** | 100% | Auto-shutdown, incident response |

### Alert Configuration

- Budget-based: % of monthly budget consumed
- Anomaly-based: Deviation from baseline
- Rate-based: Spend rate exceeds threshold

## Dashboard Best Practices

### Key Metrics to Display

| Metric | Purpose |
|--------|---------|
| Total spend (MTD) | Budget tracking |
| Daily average | Trend baseline |
| Projected monthly | Forecast |
| 7d change % | Direction indicator |
| Cost by service | Breakdown |
| Top cost drivers | Focus areas |

### Visualization Tips

- Use time series for trends
- Pie charts for category breakdown
- Tables for detailed drill-down
- Heatmaps for usage patterns

## Implementation Checklist

- [ ] Enable cloud provider billing exports
- [ ] Set up budget alerts at 50%, 75%, 90%, 100%
- [ ] Tag all resources (team, project, environment)
- [ ] Implement LLM token tracking
- [ ] Create cost attribution by feature
- [ ] Build monitoring dashboard
- [ ] Configure anomaly detection
- [ ] Set up regular cost review meetings

## Related Concepts
- [[32_Cost_Management_MOC]] - Parent category
- [[32.06 FinOps Practices]] - Organizational context for cost management
- [[32.02 Operational Costs]] - Category of costs to monitor
- [[32.04 Multi-Model Cost Strategy]] - Use case: LLM cost tracking

## References
- AWS Cost Management User Guide
- GCP Billing Documentation
- Kubecost Documentation
- OpenCost Project
