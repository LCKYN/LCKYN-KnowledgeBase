---
id: 11.07
tags: [type/concept, status/growing, context/llm]
---

# A2UI (Agent-to-UI)

## Overview
A2UI (Agent-to-UI) is a declarative generative UI protocol created by Google (with contributions from CopilotKit and the open source community) that enables AI agents to safely send rich user interfaces across trust boundaries. It's currently at v0.8, Apache 2.0 licensed, and in active development.

**Status**: Early Stage Public Preview

## Problem Statement
How can AI agents safely send rich UIs across trust boundaries without:
- Executing arbitrary code
- Creating security vulnerabilities
- Losing cross-platform compatibility

## Solution
Instead of text-only responses or risky code execution, A2UI lets agents send **declarative component descriptions** that clients render using their own native widgets. It's like having agents speak a universal UI language.

## Core Characteristics

### 1. Secure by Design
- **Declarative data format**: Not executable code
- **Pre-approved components**: Agents can only use components from your catalog
- **No injection attacks**: Prevents UI injection vulnerabilities
- **Safe rendering**: Client controls what gets rendered

### 2. LLM-Friendly
- **Flat JSON structure**: Easy for LLMs to generate
- **Streaming support**: JSONL-based, streamable format
- **Incremental generation**: Build UIs progressively
- **No perfect JSON required**: Tolerant of LLM generation patterns

### 3. Framework-Agnostic
- **Platform-independent**: One agent response works everywhere
- **Multiple renderers**: Angular, Flutter, React, native mobile
- **Styled components**: Use your own design system
- **Consistent behavior**: Same UI logic across platforms

### 4. Progressive Rendering
- **Real-time streaming**: Users see UI building as it's generated
- **No waiting for completion**: Immediate feedback
- **Improved UX**: Perceived performance boost

## Architecture

### How It Works
1. **User** sends a message to an AI agent
2. **Agent** generates A2UI messages (structure + data)
3. **Messages** stream to the client application
4. **Client** renders using native components (Angular, Flutter, React, etc.)
5. **User** interacts with the UI, sending actions back to agent
6. **Agent** responds with updated A2UI messages

```
User → Agent → A2UI Messages → Client Renderer → Native UI
  ↑                                                    ↓
  └────────────── User Interactions ─────────────────┘
```

### Data Flow
![End-to-End Data Flow](https://a2ui.org/assets/end-to-end-data-flow.png)

## Core Concepts

### 1. Surfaces
Top-level containers for UI components:
- Screen layouts
- Dialog modals
- Cards
- Panels

### 2. Components
Building blocks of the UI:
- Input fields
- Buttons
- Lists
- Images
- Charts
- Maps
- Custom components

### 3. Data Binding
Connect data to UI elements:
- One-way binding: Data → UI
- Two-way binding: UI ↔ Data
- Dynamic updates

### 4. Adjacency List Model
Graph-based structure representation:
- Parent-child relationships
- Component hierarchy
- Efficient updates

## Implementation

### Renderers (Client-side)
Available for multiple frameworks:
- **Angular**: Official renderer
- **Flutter**: Official renderer
- **React**: Community/CopilotKit support
- **Native Mobile**: Platform-specific implementations

### Transports
Communication protocols:
- **A2A**: Agent-to-Agent protocol
- **HTTP/WebSocket**: Direct communication
- **AG-UI**: Via [[11.06 AG-UI Protocol|AG-UI protocol]]

### Agents (Server-side)
Any agent framework can generate A2UI:
- LangGraph
- CrewAI
- Vercel AI SDK
- Google ADK
- Custom implementations

## Message Format

### JSONL Structure
```json
{"type": "surface", "id": "main", "components": ["form1"]}
{"type": "component", "id": "form1", "kind": "Form", "children": ["input1", "button1"]}
{"type": "component", "id": "input1", "kind": "TextInput", "placeholder": "Enter text"}
{"type": "component", "id": "button1", "kind": "Button", "label": "Submit"}
```

### Streaming
Messages can be streamed incrementally:
- Send components as they're generated
- Update UI progressively
- Cancel mid-stream if needed

## Use Cases

### Form Generation
Agents create dynamic forms based on context:
```
User: "I need to schedule a landscape project"
Agent: Generates custom form with:
  - Property size input
  - Budget slider
  - Style preferences
  - Photo upload
```

### Data Visualization
Respond with appropriate charts/graphs:
```
User: "Show me sales by region"
Agent: Returns A2UI chart component with data
```

### Interactive Maps
Location-based responses:
```
User: "Where are your stores?"
Agent: Returns A2UI map component with markers
```

### Custom Workflows
Multi-step interfaces:
- Wizards
- Approval flows
- Configuration screens

## CopilotKit Integration

CopilotKit is a **launch partner with Google** for A2UI:
- Full A2UI support in CopilotKit and AG-UI
- A2UI Widget Builder/Composer
- Seamless integration with React
- Transport via AG-UI protocol

### A2UI Composer
Public tool for experimenting with A2UI:
- Visual widget builder
- Test A2UI generation
- Preview rendering
- Available at [go.copilotkit.ai/A2UI-widget-builder](https://go.copilotkit.ai/A2UI-widget-builder)

## Custom Components

Developers can register custom components:
```typescript
// Register custom component
registry.register({
  kind: 'ProductCard',
  props: {
    name: 'string',
    price: 'number',
    image: 'string'
  }
})

// Agent can now use it
{"type": "component", "kind": "ProductCard", "name": "Widget", "price": 99.99}
```

### Component Catalog
- Define available components
- Set constraints and validation
- Ensure brand consistency
- Control agent capabilities

## Security Model

### Pre-approval Required
Agents can ONLY use components you've registered:
- Explicit allowlist
- No dynamic component creation
- Controlled capability surface

### No Code Execution
Agents describe what to render, not how:
- Declarative only
- No JavaScript execution
- No eval() or similar risks

### Client-Side Rendering
Your application controls final rendering:
- Validate before rendering
- Apply your styling
- Enforce constraints

## Relationship with AG-UI

### Complementary Technologies
- **A2UI**: Generative UI specification (WHAT to render)
- **AG-UI**: Runtime protocol (HOW to communicate)

### Working Together
1. Agent generates UI using **A2UI spec**
2. **AG-UI** transports A2UI messages to app
3. App renders components per A2UI description
4. User interactions flow back through **AG-UI**
5. Agent responds with updated **A2UI**

## Comparison with Other GenUI Specs

| Specification | Creator | Type | Key Feature |
|---------------|---------|------|-------------|
| **A2UI** | Google | Declarative | JSONL, streaming, LLM-friendly |
| **Open-JSON-UI** | OpenAI | Declarative | JSON schema-based |
| **MCP-UI** | Microsoft + Shopify | Iframe-based | Full isolation, HTML rendering |

## Getting Started

### Quick Start
1. Install A2UI renderer for your framework
2. Register component catalog
3. Configure agent to generate A2UI
4. Handle messages in your app

### Resources
- [Official Documentation](https://a2ui.org/)
- [Specification v0.8](https://a2ui.org/specification/v0.8-a2ui/)
- [GitHub Repository](https://github.com/google/A2UI)
- [Quickstart Guide](https://a2ui.org/quickstart/)
- [A2UI Composer](https://a2ui-editor.ag-ui.com/gallery)

## Best Practices

### Component Design
- Keep components focused and reusable
- Define clear prop schemas
- Document expected behavior
- Test across renderers

### Agent Prompting
- Provide component catalog in system prompt
- Include usage examples
- Specify when to use each component type
- Guide progressive disclosure

### Performance
- Stream components incrementally
- Lazy load heavy components
- Cache component definitions
- Optimize data binding

### Security
- Validate all component props
- Sanitize data before rendering
- Limit component complexity
- Audit registered components

## Roadmap
- Version 0.9 in development
- Expanded component library
- Better streaming primitives
- Enhanced data binding
- More framework renderers

## Related Concepts
- [[11.06 AG-UI Protocol]]
- [[11.05 CopilotKit]]
- [[11.02 LLM Agents]]
- [[11.03 LLM Tool Calls]]

## References
- [A2UI Official Site](https://a2ui.org/)
- [A2UI Specification](https://a2ui.org/specification/v0.8-a2ui/)
- [A2UI GitHub](https://github.com/google/A2UI)
- [CopilotKit A2UI Support](https://www.copilotkit.ai/ag-ui-and-a2ui)
- [AG-UI and A2UI Explained (PDF)](https://www.copilotkit.ai/docs/AG-UI-and-A2UI-Explained.pdf)
