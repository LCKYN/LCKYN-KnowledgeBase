---
id: 11.06
tags: [type/concept, status/growing, context/llm]
---

# AG-UI Protocol

## Overview
AG-UI (Agent-User Interaction) is an open protocol that provides the general-purpose, bi-directional runtime connection between a user-facing application and any agentic backend. It transforms agents from background processes into transparent, reliable collaborators that are always aligned with the user.

## Problem Statement
How to create a standardized interface for agent ↔ UI communication that:
- Enables transparency and control
- Works across different agent frameworks
- Provides enterprise governance
- Maintains real-time synchronization

## Core Purpose
AG-UI is **NOT** a generative UI specification — it is the **runtime protocol** that:
- Connects agentic backends to user-facing applications
- Handles bi-directional communication
- Manages state synchronization
- Transports any generative UI spec (A2UI, MCP-UI, Open-JSON-UI)

## Key Features

### 1. Shared State
Synchronize application state between agent and UI:
- Real-time updates
- Consistent data representation
- Conflict resolution

### 2. Tool-Based GenUI
Agents can generate UI through tool calls:
- Declarative UI generation
- Component-based rendering
- Safe UI creation

### 3. Subgraphs
Coordinate multiple agents across sub-tasks:
- Parallel agent execution
- Stream results into unified experience
- Hierarchical agent organization

### 4. Agentic Chat
Native support for conversational interfaces:
- Message streaming
- Context management
- Multi-turn interactions

### 5. Human-in-the-Loop
Integrate human oversight and control:
- Approval workflows
- Manual interventions
- Quality gates

### 6. Predictive Updates
Optimistic UI updates before agent confirmation:
- Improved perceived performance
- Smooth user experience
- Rollback on failure

## Protocol Architecture

### Agent ↔ User Boundary
AG-UI operates at the critical boundary where:
- Users interact with agents
- Application state meets agent state
- UI rendering meets agent decisions

### Comparison with Other Protocols

| Protocol | Focus | Purpose |
|----------|-------|---------|
| **AG-UI** | Agent ↔ User Interaction | User, application, and agent synchronization |
| **MCP** | Model Context Protocol | Handles context and model communication |
| **A2A** | Agent-to-Agent | Agent coordination and communication |

AG-UI is **complementary** to MCP and A2A, not competitive:
- **MCP**: Provides context to agents
- **A2A**: Enables agent collaboration
- **AG-UI**: Connects agents to users

## Why AG-UI Matters

### For Developers
- **Standardized interface**: Build agentic apps faster
- **Framework-agnostic**: Works with any agent framework
- **Less boilerplate**: Focus on features, not plumbing
- **Ecosystem compatibility**: Use tools that speak AG-UI

### For Enterprises
- **Governance at the boundary**: Control what agents can do
- **Analytics and observability**: Track all agent interactions
- **Security and compliance**: Enforce policies at the edge
- **Deploy with confidence**: Production-ready by design

### For the Ecosystem
- **Prevent fragmentation**: Shared protocol across tools
- **Broad adoption**: Designed for interoperability
- **Open standard**: Community-driven development
- **Future-proof**: Extensible architecture

## Framework Integration

AG-UI is being developed in collaboration with leading frameworks:
- **Google ADK**: Agent Development Kit integration
- **Microsoft Agent Framework**: Enterprise agent platform
- **AWS Strands**: Amazon's agent framework
- **LangGraph**: LangChain's graph orchestration
- **Mastra**: Agent orchestration platform
- **Pydantic AI**: Type-safe agent framework
- **Vercel AI SDK**: Streaming AI integration
- **CrewAI Flows**: Multi-agent workflows
- **Agno AI**: Agent framework
- **LlamaIndex**: Data framework for LLM apps
- **AG2**: Microsoft AutoGen framework

## Generative UI Support

AG-UI natively supports multiple generative UI specifications:
- **[[11.07 A2UI]]**: Google's declarative GenUI spec
- **MCP-UI**: Microsoft + Shopify iframe-based standard
- **Open-JSON-UI**: OpenAI's internal schema (standardized)
- **Custom specifications**: Developers can define their own

### How It Works
1. Agent generates UI using a GenUI spec (e.g., A2UI)
2. AG-UI transports the specification to the application
3. Application renders components according to spec
4. User interactions flow back through AG-UI to agent
5. Agent responds with updated UI or actions

## Implementation

### Reference Implementation
[[11.05 CopilotKit|CopilotKit]] is the primary implementation of AG-UI.

### Client Libraries
- **React**: First-party client (`@copilotkit/react`)
- **Angular**: First-party client
- **Community**: Golang, Rust, Java (emerging)

### Example Usage
```typescript
import { useAGUI } from '@copilotkit/react'

const MyComponent = () => {
  const { agent, ui } = useAGUI()

  // Bi-directional communication
  agent.send(message)

  // Render agent-generated UI
  return <>{ui.render()}</>
}
```

## Enterprise Features

### Protection Layer
Guardrails at the agent-user boundary:
- **Prompt injection prevention**: Block malicious inputs
- **Data leak prevention**: Filter sensitive information
- **Brand enforcement**: Ensure consistent messaging
- **Compliance**: Meet regulatory requirements

### Analytics (Coming)
Visibility into agent interactions:
- Usage patterns
- Performance metrics
- Error tracking
- User satisfaction

### Self-Improvement (Coming)
Reinforcement learning from human feedback:
- Implicit feedback collection
- Agent behavior optimization
- Continuous improvement

## Design Principles

### 1. Open and Extensible
- Open protocol specification
- Community contributions welcome
- Extensible for future needs

### 2. Framework-Agnostic
- Works with any agent framework
- No vendor lock-in
- Bring your own stack

### 3. Enterprise-Ready
- Security by design
- Governance built-in
- Production-grade reliability

### 4. Developer-Friendly
- Clear documentation
- Simple integration
- Rich tooling

## FAQ

### How does AG-UI differ from A2UI?
- **A2UI**: Generative UI specification (what UI to render)
- **AG-UI**: Runtime protocol (how to communicate)
- They work together: AG-UI transports A2UI messages

### Can I use AG-UI without CopilotKit?
Yes, AG-UI is an open protocol. CopilotKit is the reference implementation, but anyone can build AG-UI clients or servers.

### Is AG-UI production-ready?
Yes, AG-UI is designed for production use with enterprise features like governance, security, and observability.

## Related Concepts

- [[11_LLM_Dev_MOC]]
- [[11.07 A2UI]] - Google's alternative protocol
- [[11.05 CopilotKit]] - Reference implementation
- [[11.02 LLM Agents]] - Agents expose via AG-UI
- [[11.03 LLM Tool Calls]] - Tool execution over protocol

## References
- [AG-UI Official Site](https://www.copilotkit.ai/ag-ui)
- [AG-UI Specification](https://github.com/ag-ui-protocol/ag-ui)
- [CopilotKit Documentation](https://docs.copilotkit.ai/)
- [AG-UI vs A2UI Explained (PDF)](https://www.copilotkit.ai/docs/AG-UI-and-A2UI-Explained.pdf)
