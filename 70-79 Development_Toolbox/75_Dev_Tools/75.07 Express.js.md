---
id: 75.07
tags: [type/tool, status/evergreen, context/dev-tools]
---

# Express.js

## Overview
**Express.js** is a minimal, unopinionated **Node.js** web framework for building APIs and web applications. It is the most widely used Node.js server framework, known for its simplicity and large middleware ecosystem.

## Key Concepts
- **Middleware chain**: Functions that process requests sequentially (`req → middleware → res`)
- **Routing**: Pattern-based URL matching with HTTP method handlers
- **Single-threaded event loop**: Node.js processes requests on one thread with async I/O
- **Cluster mode**: Fork multiple workers via `cluster` module to use all CPU cores
- **Non-blocking I/O**: Ideal for I/O-bound workloads (DB queries, HTTP calls)

## Minimal Example

```js
const express = require('express');
const app = express();

app.get('/health', (req, res) => {
  res.json({ status: 'ok' });
});

app.listen(3000);
```

## Middleware Pattern

```
Request → Logger → Auth → Route Handler → Error Handler → Response
```

| Type | Example | Purpose |
|---|---|---|
| Built-in | `express.json()` | Parse JSON body |
| Third-party | `cors`, `helmet` | Security, CORS headers |
| Custom | `(req, res, next) => {}` | Auth, logging, etc. |
| Error | `(err, req, res, next) => {}` | Centralized error handling |

## Scaling

| Strategy | How | Best For |
|---|---|---|
| **Cluster mode** | `cluster.fork()` per CPU core | Multi-core utilization |
| **PM2** | Process manager with auto-restart | Production deployment |
| **Reverse proxy** | Nginx/HAProxy in front | Load balancing, SSL |
| **Horizontal** | Multiple instances behind LB | High availability |

> [!TIP] Production best practices
> Disable `x-powered-by`, use `helmet` for security headers, enable `compression`, and run behind a reverse proxy.

## Express vs Alternatives

| Framework | Language | Async Model | Performance |
|---|---|---|---|
| **Express** | Node.js | Event loop | Moderate |
| **Fastify** | Node.js | Event loop | ~2× Express |
| **FastAPI** | Python | asyncio | High (async) |
| **Koa** | Node.js | Event loop | Lighter Express |

## Common Use Cases
- **REST APIs** — CRUD endpoints with middleware chains
- **BFF (Backend for Frontend)** — Aggregation layer for SPAs
- **Microservices** — Lightweight service with JSON APIs
- **Prototyping** — Fastest path to a working Node.js API

## Related Concepts
- [[75_Dev_Tools_MOC]] - Parent category
- [[75.06 perf-api-framework]] - Benchmarked against FastAPI
- [[31.02 Serving Architecture]] - API serving patterns
